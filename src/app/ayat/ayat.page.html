<ion-menu side="start" menuId="main-menu" contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menu</ion-title>
      <ion-icon slot="start" name="chevron-down-outline" style="font-size: 30px;" color="primary" fill="clear"></ion-icon>
    </ion-toolbar>
  </ion-header>

  <ion-content>

    <ion-list style="padding-left: 10px; padding-right: 10px;" lines="none">
      <p>
      <ion-badge slot="start">&nbsp;Admin&nbsp;</ion-badge>
      <ion-item style="padding-bottom: 5px;" routerLink="/learn">Ayat
        <ion-icon style="font-size: 30px;" color="primary" fill="clear" slot="start" name="list-outline"></ion-icon>
      </ion-item>
      <ion-item style="padding-bottom: 5px;" routerLink="/quiz">Kalimat
        <ion-icon style="font-size: 30px;" color="primary" fill="clear" slot="start" name="list-outline"></ion-icon>
      </ion-item>
      <ion-item style="padding-bottom: 5px;" routerLink="/result">Topic of Ayat
        <ion-icon style="font-size: 30px;" color="primary" fill="clear" slot="start" name="folder-open-outline"></ion-icon>
      </ion-item>
      <ion-item style="padding-bottom: 5px;" routerLink="/about">Topic of Kalimat
        <ion-icon style="font-size: 30px;" color="primary" fill="clear" slot="start" name="folder-open-outline"></ion-icon>
      </ion-item>
      <p>
      <ion-badge slot="start">&nbsp;User&nbsp;</ion-badge>
      <ion-item style="padding-bottom: 5px;" routerLink="/learn">Learning
        <ion-icon style="font-size: 30px;" color="primary" fill="clear" slot="start" name="library-outline"></ion-icon>
      </ion-item>
      <ion-item style="padding-bottom: 5px;" routerLink="/quiz">Quiz
        <ion-icon style="font-size: 30px;" color="primary" fill="clear" slot="start" name="alarm-outline"></ion-icon>
      </ion-item>
      <ion-item style="padding-bottom: 5px;" routerLink="/result">Result
        <ion-icon style="font-size: 30px;" color="primary" fill="clear" slot="start" name="school-outline"></ion-icon>
      </ion-item>
      <ion-item style="padding-bottom: 5px;" routerLink="/about">About
        <ion-icon style="font-size: 30px;" color="primary" fill="clear" slot="start" name="people-outline"></ion-icon>
      </ion-item>
      <p>
        <ion-item style="padding-bottom: 5px;" routerLink="/profile">Profile
          <ion-icon style="font-size: 25px;" color="primary" fill="clear" slot="start" name="person-outline"></ion-icon>
        </ion-item>
        <ion-item style="padding-bottom: 5px;" routerLink="/logout">Log Out
          <ion-icon style="font-size: 25px;" color="primary" fill="clear" slot="start" name="log-out-outline"></ion-icon>
        </ion-item>
      <!-- <p>
        <div style="font-size: 16px;" class="ion-text-center ion-align-items-center">Takallam Arabi Version 1.0</div> -->
    </ion-list>
  </ion-content>
</ion-menu>

<ion-header>
  <ion-toolbar class="custom-header-background">
    <ion-title style="color: #000;">Takallam Arabi</ion-title>
    <ion-buttons slot="start" (click)="openMenu()">
      <ion-icon style="font-size: 30px;" color="primary" fill="clear" name="ellipsis-vertical-outline"></ion-icon>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-icon style="font-size: 35px;" color="primary" fill="clear" name="add-circle-outline" (click)="addAyat()"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content id="main-content">
  <!-- Search form -->
   <ion-item style="--background: #d3e1f4;"><div><h5>Admin : Ayat Listing</h5></div></ion-item>
  <ion-card>
    <ion-item>
      <ion-input placeholder="Search in Bahasa Melayu" [(ngModel)]="searchMelayu"></ion-input>
    </ion-item>
    <ion-item>
      <ion-input placeholder="Search in English" [(ngModel)]="searchEnglish"></ion-input>
    </ion-item>
    <!-- <ion-item> -->
      <div style="text-align: center; padding-bottom: 10px;">
      <ion-button size="small" style="width: 150px; padding-left: 15px; padding-right: 15px;" (click)="onSearch()">Search</ion-button>
      <ion-button size="small" style="width: 150px; padding-left: 15px; padding-right: 15px;" (click)="cancelSearch()" color="warning">Cancel</ion-button>
    </div>
    <!-- </ion-item> -->
  </ion-card>

  <ion-list  *ngFor="let a of ayat">

    <ion-card  style="background: #fff;">
      <!-- <ion-item lines="none" style="padding-top: -10px; padding-bottom: -10px;"><ion-badge style="padding-top: -10px; padding-bottom: -10px;" slot="end"> ID 22 </ion-badge></ion-item> -->

      <ion-card-header>

        <ion-card-subtitle style="padding-bottom: 5px; color: black;">Bahasa Melayu</ion-card-subtitle>
        <ion-item style="border-radius: 10px; background-color: black; border: 2px solid rgb(68, 82, 241);">
          <ion-label style="text-align: left;">
            <ion-item lines="none">
            <div style="font-size: 18px; color: black;" (click)="navigateToAyatOpen(a.id, 'Bahasa Melayu', a.melayu, a.melayu_wav)">{{ a.melayu }}</div>

            <ion-button *ngIf="!a.melayu_wav && a.melayu" color="primary" slot="end" fill="clear" (click)="navigateToAyatOpen(a.id, 'Bahasa Melayu', a.melayu, a.melayu_wav)">
              <ion-icon style="font-size: 35px;" name="mic-circle-outline"></ion-icon>
            </ion-button>

            <ion-button *ngIf="a.melayu_wav" color="primary" slot="end" fill="clear" (click)="playWavUrl('https://dividen.cbp.com.my/dev/ta/uploads/' + a.melayu_wav)">
              <ion-icon style="font-size: 35px;" name="play-circle-outline"></ion-icon>
            </ion-button>

          </ion-item>
          </ion-label>
        </ion-item>
        <!-- {{ a.melayu_wav }} -->

          <ion-card-subtitle style="padding-bottom: 5px; color: black;">Bahasa Indonesia</ion-card-subtitle>
          <ion-item style="border-radius: 10px; background-color: black; border: 2px solid rgb(68, 82, 241);">
            <ion-label style="text-align: left;">
              <ion-item lines="none">
              <div style="font-size: 18px; color: black;" (click)="navigateToAyatOpen(a.id, 'Bahasa Indonesia', a.indonesia, a.indonesia_wav)">{{ a.indonesia }}</div>

              <ion-button *ngIf="!a.indonesia_wav && a.indonesia" color="primary" slot="end" fill="clear" (click)="navigateToAyatOpen(a.id, 'Bahasa Indonesia', a.indonesia, a.indonesia_wav)">
                <ion-icon style="font-size: 35px;" name="mic-circle-outline"></ion-icon>
              </ion-button>

              <ion-button *ngIf="a.indonesia_wav" color="primary" slot="end" fill="clear" (click)="playWavUrl('https://dividen.cbp.com.my/dev/ta/uploads/' + a.indonesia_wav)">
                <ion-icon style="font-size: 35px;" name="play-circle-outline"></ion-icon>
              </ion-button>

            </ion-item>
            </ion-label>
          </ion-item>
          <!-- {{ a.indonesia_wav }} -->

        <ion-card-subtitle style="padding-bottom: 5px; color: black">English</ion-card-subtitle>
        <ion-item style="border-radius: 10px; background-color: black; border: 2px solid rgb(68, 82, 241);">
          <ion-label style="text-align: left;">
            <ion-item lines="none">
            <div style="font-size: 18px; color: black;" (click)="navigateToAyatOpen(a.id, 'English', a.english, a.english_wav)">{{ a.english }}</div>

            <ion-button *ngIf="!a.english_wav && a.english" color="primary" slot="end" fill="clear" (click)="navigateToAyatOpen(a.id, 'English', a.english, a.english_wav)">
              <ion-icon style="font-size: 35px;" name="mic-circle-outline"></ion-icon>
            </ion-button>

            <ion-button *ngIf="a.english_wav" color="primary" slot="end" fill="clear" (click)="playWavUrl('https://dividen.cbp.com.my/dev/ta/uploads/' + a.english_wav)">
              <ion-icon style="font-size: 35px;" name="play-circle-outline"></ion-icon>
            </ion-button>

          </ion-item>
          </ion-label>
        </ion-item>
        <!-- {{ a.english_wav }} -->

        <ion-card-subtitle style="padding-bottom: 5px; color: black">Arabic Fusha</ion-card-subtitle>
        <ion-item style="border-radius: 10px; background-color: black; border: 2px solid rgb(68, 82, 241);">
          <ion-label style="text-align: left;">
            <ion-item lines="none">
            <div style="font-size: 22px; color: black;" (click)="navigateToAyatOpen(a.id, 'Arabic Fusha', a.arabic_fusha, a.arabic_fusha_wav)">{{ a.arabic_fusha }}</div>

            <ion-button *ngIf="!a.arabic_fusha_wav && a.arabic_fusha" color="primary" slot="end" fill="clear" (click)="navigateToAyatOpen(a.id, 'Arabic Fusha', a.arabic_fusha, a.arabic_fusha_wav)">
              <ion-icon style="font-size: 35px;" name="mic-circle-outline"></ion-icon>
            </ion-button>

            <ion-button *ngIf="a.arabic_fusha_wav" color="primary" slot="end" fill="clear" (click)="playWavUrl('https://dividen.cbp.com.my/dev/ta/uploads/' + a.arabic_fusha_wav)">
              <ion-icon style="font-size: 35px;" name="play-circle-outline"></ion-icon>
            </ion-button>

          </ion-item>
          </ion-label>
        </ion-item>
        <!-- {{ a.arabic_fusha_wav }} -->

        <ion-card-subtitle style="padding-bottom: 5px; color: black">Arabic Ammiyah Jordan</ion-card-subtitle>
        <ion-item style="border-radius: 10px; background-color: black; border: 2px solid rgb(68, 82, 241);">
          <ion-label lines="none">
            <ion-item  style="text-align: left;" lines="none">
            <div style="font-size: 22px; color: black;" (click)="navigateToAyatOpen(a.id, 'Arabic Ammiyah Jordan', a.arabic_ammiyah_jordan, a.arabic_ammiyah_jordan_wav)">{{ a.arabic_ammiyah_jordan }}</div>


            <ion-button *ngIf="!a.arabic_ammiyah_jordan_wav && a.arabic_ammiyah_jordan" color="primary" slot="end" fill="clear" (click)="navigateToAyatOpen(a.id, 'Arabic Ammiyah Jordan', a.arabic_ammiyah_jordan, a.arabic_ammiyah_jordan_wav)">
              <ion-icon style="font-size: 35px;" name="mic-circle-outline"></ion-icon>
            </ion-button>

            <ion-button *ngIf="a.arabic_ammiyah_jordan_wav" color="primary" slot="end" fill="clear" (click)="playWavUrl('https://dividen.cbp.com.my/dev/ta/uploads/' + a.arabic_ammiyah_jordan_wav)">
              <ion-icon style="font-size: 35px;" name="play-circle-outline"></ion-icon>
            </ion-button>

          </ion-item>
          </ion-label>
        </ion-item>
        <!-- {{ a.arabic_ammiyah_jordan_wav }} -->

        <ion-card-subtitle style="padding-bottom: 5px; color: black">Arabic Ammiyah Saudi</ion-card-subtitle>
        <ion-item style="border-radius: 10px; background-color: black; border: 2px solid rgb(68, 82, 241);">
          <ion-label lines="none">
            <ion-item  style="text-align: left;" lines="none">
            <div style="font-size: 22px; color: black;" (click)="navigateToAyatOpen(a.id, 'Arabic Ammiyah Saudi', a.arabic_ammiyah_saudi, a.arabic_ammiyah_saudi_wav)">{{ a.arabic_ammiyah_saudi }}</div>


            <ion-button *ngIf="!a.arabic_ammiyah_saudi_wav && a.arabic_ammiyah_saudi" color="primary" slot="end" fill="clear" (click)="navigateToAyatOpen(a.id, 'Arabic Ammiyah Saudi', a.arabic_ammiyah_saudi, a.arabic_ammiyah_saudi_wav)">
              <ion-icon style="font-size: 35px;" name="mic-circle-outline"></ion-icon>
            </ion-button>

            <ion-button *ngIf="a.arabic_ammiyah_saudi_wav" color="primary" slot="end" fill="clear" (click)="playWavUrl('https://dividen.cbp.com.my/dev/ta/uploads/' + a.arabic_ammiyah_saudi_wav)">
              <ion-icon style="font-size: 35px;" name="play-circle-outline"></ion-icon>
            </ion-button>

          </ion-item>
          </ion-label>
        </ion-item>
        <!-- {{ a.arabic_ammiyah_saudi_wav }} -->

      </ion-card-header>
      <!-- <hr class="custom-hr"> -->

      <ion-item style="--background: #fff; padding-left: 10px;">
        <ion-badge slot="start">&nbsp;ID {{ a.id }}&nbsp;</ion-badge>
        <ion-button slot="end" color="primary" fill="clear" (click)="editAyat(a)" style="padding-bottom: 2px;"><ion-icon style="font-size: 30px;" name="create-outline" slot="icon-only"></ion-icon></ion-button>
        <ion-button slot="end" color="danger" fill="clear" (click)="confirmDelete(a.id)"><ion-icon style="font-size: 28px;" name="trash-outline" slot="icon-only"></ion-icon></ion-button>
      </ion-item>
    </ion-card>

  </ion-list>

</ion-content>

<ion-footer style="background: #fff">
    <!-- Pagination Controls -->
    <ion-grid>
      <ion-row class="ion-justify-content-between">
        <!-- <ion-col size="6"> -->
          <ion-button (click)="firstPage()" [disabled]="page === 1" fill="clear">
            <ion-icon name="play-skip-back-outline" size="large" slot="icon-only"></ion-icon>
          </ion-button>
          <ion-button (click)="prevPage()" [disabled]="page === 1" fill="clear">
            <ion-icon name="chevron-back-outline" size="large" slot="icon-only"></ion-icon>
          </ion-button>
        <!-- </ion-col> -->
        <div style="padding-top: 15px; color: black;">Page {{ page }} of {{ totalPages }}</div>
        <!-- <ion-col size="6" class="ion-text-end"> -->
          <ion-button (click)="nextPage()" [disabled]="page === totalPages" fill="clear">
            <ion-icon name="chevron-forward-outline" size="large" slot="icon-only"></ion-icon>
          </ion-button>
          <ion-button (click)="lastPage()" [disabled]="page === totalPages" fill="clear">
            <ion-icon name="play-skip-forward-outline" size="large" slot="icon-only"></ion-icon>
          </ion-button>
        <!-- </ion-col> -->
      </ion-row>
    </ion-grid>
</ion-footer>
